(this["webpackJsonpbudget-dashboard"]=this["webpackJsonpbudget-dashboard"]||[]).push([[0],{23:function(e,a,t){},36:function(e,a,t){e.exports=t(52)},41:function(e,a,t){},52:function(e,a,t){"use strict";t.r(a);var r=t(0),o=t.n(r),n=t(8),s=t.n(n),l=(t(41),t(25)),c=t(26),i=t(32),u=t(33),d=(t(23),t(16),t(27)),m=t.n(d),h=t(28),g=t.n(h),v=t(17),p=t.n(v),f=t(20),b=new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR"});function C(e){return Number(e.replace(/[^0-9.-]+/g,""))}var E={getCategoryValueMapFromData:function(e){for(var a=new Map,t=0;t<e.length;t+=1){var r=e[t].category;a.has(r)||a.set(r,0),a.set(r,a.get(r)+C(e[t].totalcost))}return a},getKeyValueArrayFromMap:function(e){for(var a=[],t=Object(f.a)(e.keys()),r=0;r<t.length;r+=1)a.push({label:t[r],value:e.get(t[r])});return a.sort((function(e,a){return e.value<a.value?1:a.value<e.value?-1:0})),a},getIncomeAndExpenseDataArrays:function(e){for(var a=[],t=[],r=0;r<e.length;r+=1){e[r].type.includes("income")?a.push(e[r]):t.push(e[r])}return{incomeItems:a,expenseItems:t}},getTotalsForIncomeExpenseAndGross:function(e){for(var a=0,t=0,r=0;r<e.length;r+=1){var o=e[r].type,n=C(e[r].totalcost);o.includes("income")?a+=n:t+=n}return{totalIncome:a,totalExpenses:t,totalGross:a-t}},getCumulativeTotalPerDateArray:function(e){for(var a=new Map,t=0;t<e.length;t+=1)a.has(e[t].date)||a.set(e[t].date,0),a.set(e[t].date,a.get(e[t].date)+C(e[t].totalcost));var r=0,o=[],n=Object(f.a)(a.keys());n.sort((function(e,a){var t=Number(e.split("/")[0]),r=Number(a.split("/")[0]);return t>r?1:r>t?-1:0}));for(var s=0;s<n.length;s+=1)r+=a.get(n[s]),o.push({label:n[s],value:r});return o},addCurrencySyntax:function(e){return b.format(e)},getGrossCategoriesAndValues:function(e,a){for(var t=new Map,r=0;r<e.length;r+=1)t.has(e[r].date)||t.set(e[r].date,0),t.set(e[r].date,t.get(e[r].date)+C(e[r].totalcost));for(var o=0;o<a.length;o+=1)t.has(a[o].date)||t.set(a[o].date,0),t.set(a[o].date,t.get(a[o].date)-C(a[o].totalcost));var n=Object(f.a)(t.keys());n.sort((function(e,a){var t=Number(e.split("/")[0]),r=Number(a.split("/")[0]);return t>r?1:r>t?-1:0}));for(var s=0,l=[],c=[],i=0;i<n.length;i+=1)s+=t.get(n[i]),l.push({label:n[i]}),c.push({value:s});return{categories:l,values:c}}},y=function(e){var a=e.cardTitle,t=e.value;return o.a.createElement("div",{className:"card has-background-white-ter"},o.a.createElement("div",{className:"card-content"},o.a.createElement("div",{className:"has-text-weight-medium is-size-5",id:"card-title"},a),o.a.createElement("div",{className:"has-text-weight-medium is-size-3",id:"card-val"},E.addCurrencySyntax(t))))};y.defaultProps={cardTitle:"cardTitle",value:0};var x=y,w=function(e){var a=e.chartTitle,t=e.chartConfig;return o.a.createElement("div",{className:"card is-bottom-paddingless has-block-display has-background-white-ter"},o.a.createElement("div",{id:"card-chart-content",className:"card-content"},o.a.createElement("div",{id:"card-chart-title",className:"has-text-weight-medium is-size-5 has-text-centered"},a),o.a.createElement(p.a,t)))};w.defaultProps={chartTitle:"chartTitle",chartConfig:null};var A=w,F=t(71),N=t(30),D=t.n(N),I=t(31),k=t.n(I),G=t(69),S=Object(G.a)((function(){return{customHoverFocus:{"&:hover, &.Mui-focusVisible":{backgroundColor:"white"}}}})),B=function(){var e=S();return o.a.createElement("nav",{className:"navbar is-spaced is-fixed-top has-background-black-ter has-text-light",role:"navigation","aria-label":"main navigation"},o.a.createElement("div",{className:"navbar-brand","aria-label":"menu","aria-expanded":"false"},o.a.createElement("div",{className:"navbar-item is-size-5 has-text-weight-semibold has-text-light"},"Budget Dashboard"),o.a.createElement("div",{className:"navbar-align-end"},o.a.createElement(F.a,{className:e.customHoverFocus,href:"https://github.com/BrandonHo",size:"medium",color:"inherit"},o.a.createElement(D.a,null)),o.a.createElement(F.a,{className:e.customHoverFocus,href:"https://www.linkedin.com/in/brandon-ho-za/",size:"medium",color:"inherit"},o.a.createElement(k.a,null)))))};var T={bar2dConfig:function(e,a){var t={type:"bar2d",width:"100%",dataFormat:"json",dataSource:{chart:{numberPrefix:"R",labelDisplay:"rotate",slantLabel:"1",showLabels:"1",drawCrossLine:"1",crossLineColor:"#000000",crossLineAlpha:"15",crossLineAnimation:"1",showYAxisValues:"0",numDivLines:"0",divLineAlpha:"0",labelFontSize:"12",labelFontBold:"0",valueFontBold:"1",valueFontItalic:"1",valueFontSize:"15",chartLeftMargin:"0",chartRightMargin:"0",showPlotBorder:"0",showBorder:"0",showCanvasBorder:"0",bgColor:"#F5F5F5",bgAlpha:"100",canvasBgColor:"#F5F5F5",plotToolText:"<b>$label: $dataValue</b>",paletteColors:"#000000",usePlotGradientColor:"1"},data:e}};return a.includes("income")?(t.dataSource.chart.paletteColors="#66bb6a",t.dataSource.chart.plotGradientColor="#a5d6a7"):a.includes("expense")&&(t.dataSource.chart.paletteColors="#ef5350",t.dataSource.chart.plotGradientColor="#ff867c"),t},scrollArea2dConfig:function(e,a){return{type:"scrollarea2d",width:"100%",dataFormat:"json",dataSource:{chart:{numberPrefix:"R",labelDisplay:"Auto",slantLabel:"1",showLabels:"1",showBorder:"0",bgColor:"#F5F5F5",bgAlpha:"100",canvasBgColor:"#F5F5F5",canvasLeftPadding:"15",canvasTopPadding:"0",canvasRightPadding:"20",canvasBottomPadding:"0",chartLeftMargin:"0",chartRightMargin:"0",flatScrollBars:"1",drawCrossLine:"1",crossLineColor:"#000000",crossLineAlpha:"15",showPlotBorder:"0",yAxisValueFontSize:"12",showAlternativeVGridColor:"0",showAlternateHGridColor:"0",divLineAlpha:"25",numDivLines:"4",drawAnchors:"1",anchorRadius:"5",anchorBgColor:"#66bb6a",showValues:"0",xAxisName:"Date (Day/Month)",xAxisNameFontSize:"10",showYAxisValues:"1",showCanvasBorder:"0",plotFillColor:"#d7ffd9",plotGradientColor:"#a5d6a7",usePlotGradientColor:"1",plotToolText:"<b>$label: $dataValue</b>"},categories:[{fontSize:"15",fontBold:"1",category:e}],dataset:[{data:a}]}}}};p.a.fcRoot(g.a,m.a);var L=function(e){Object(u.a)(t,e);var a=Object(i.a)(t);function t(){var e;return Object(l.a)(this,t),(e=a.call(this)).processDataForUI=function(){var a=e.state.records,t=E.getTotalsForIncomeExpenseAndGross(a),r=E.getIncomeAndExpenseDataArrays(a),o=E.getGrossCategoriesAndValues(r.incomeItems,r.expenseItems),n=E.getKeyValueArrayFromMap(E.getCategoryValueMapFromData(r.expenseItems)),s=E.getKeyValueArrayFromMap(E.getCategoryValueMapFromData(r.incomeItems));e.setState({totalIncome:t.totalIncome,totalExpenses:t.totalExpenses,totalGross:t.totalGross,grossCumulativeChartData:T.scrollArea2dConfig(o.categories,o.values),expenseCategoryChartData:T.bar2dConfig(n,"expense"),incomeCategoryChartData:T.bar2dConfig(s,"income")})},e.state={records:[],totalIncome:0,totalExpenses:0,totalGross:0,grossCumulativeChartData:null,incomeCategoryChartData:null,expenseCategoryChartData:null},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,a="1x6IFOL0hs8CSlq7oARXT3tvIanBJlYNZqbvAGDOM9sI",t="AIzaSyAS-w8H_QdekX0k7j1aQd8_tL0AZwcjMlI",r="https://sheets.googleapis.com/v4/spreadsheets/".concat(a,"/values:batchGet?ranges=Budget&majorDimension=ROWS&key=").concat(t);fetch(r).then((function(e){return e.json()})).then((function(a){e.processGoogleSheetData(a)}))}},{key:"processGoogleSheetData",value:function(e){for(var a=this,t=e.valueRanges[0].values,r=[],o=1;o<t.length;o+=1){for(var n={},s=0;s<t[o].length;s+=1)n[t[0][s]]=t[o][s];r.push(n)}this.setState({records:r},(function(){return a.processDataForUI()}))}},{key:"render",value:function(){var e=this.state,a=e.totalIncome,t=e.totalExpenses,r=e.totalGross,n=e.grossCumulativeChartData,s=e.expenseCategoryChartData,l=e.incomeCategoryChartData;return o.a.createElement("div",{className:"app has-background-grey-dark"},o.a.createElement(B,null),o.a.createElement("div",{className:"container is-fullhd has-fixed-navbar-top-padding"},o.a.createElement("section",{className:"section is-bottom-paddingless"},o.a.createElement("div",{className:"columns"},o.a.createElement("div",{className:"column"},o.a.createElement(x,{cardTitle:"Expenses",value:t})),o.a.createElement("div",{className:"column"},o.a.createElement(x,{cardTitle:"Gross",value:r})),o.a.createElement("div",{className:"column"},o.a.createElement(x,{cardTitle:"Income",value:a})))),o.a.createElement("section",{className:"section is-next-section is-bottom-paddingless"},o.a.createElement("div",{className:"columns is-multiline"},o.a.createElement("div",{className:"column is-full is-tablet is-mobile"},o.a.createElement(A,{chartTitle:"Gross Balance Per Date",chartConfig:n})),o.a.createElement("div",{className:"column is-half-fullhd is-half-desktop is-tablet is-mobile"},o.a.createElement(A,{chartTitle:"Expense Categories",chartConfig:s})),o.a.createElement("div",{className:"column is-half-fullhd is-half-desktop is-tablet is-mobile"},o.a.createElement(A,{chartTitle:"Income Categories",chartConfig:l}))))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.32f00724.chunk.js.map